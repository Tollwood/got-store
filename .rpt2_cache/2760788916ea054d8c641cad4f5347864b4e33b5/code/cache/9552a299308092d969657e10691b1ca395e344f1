{"code":"import Area from '../../model/area/area';\r\nimport * as areaConfigData from './areaConfig.json';\r\nimport * as unitsConfigData from './unitsConfig.json';\r\nimport { House } from '../../model/player/house';\r\nimport Unit from '../../model/units/units';\r\nimport { UnitType } from '../../model/units/unitType';\r\nimport { AreaKey } from '../../model/area/areaKey';\r\nimport AreaStats from '../../model/area/areaStats';\r\nvar AreaInitiator = /** @class */ (function () {\r\n    function AreaInitiator() {\r\n    }\r\n    AreaInitiator.getInitalState = function (playingHouses) {\r\n        var _this = this;\r\n        var areas = new Map();\r\n        Array.from(unitsConfigData).forEach(function (jsonConfig) {\r\n            if (playingHouses.indexOf(House[jsonConfig.controllingHouse]) > -1) {\r\n                var area = _this.createArea(jsonConfig);\r\n                areas.set(area.key, area);\r\n            }\r\n        });\r\n        return areas;\r\n    };\r\n    AreaInitiator.getAreaStats = function () {\r\n        var _this = this;\r\n        var areasStats = new Map();\r\n        Array.from(areaConfigData).forEach(function (jsonConfig) {\r\n            var areaStats = _this.parseAreas(jsonConfig);\r\n            areasStats.set(areaStats.key, areaStats);\r\n        });\r\n        Array.from(areasStats.values()).map(function (areaStats) {\r\n            _this.addBorderAreas(areaStats);\r\n        });\r\n        return areasStats;\r\n    };\r\n    AreaInitiator.parseAreas = function (json) {\r\n        return new AreaStats(AreaKey[json.key], json.consolidatePower, json.harbor, json.castle, json.stronghold, json.isLandArea, json.supply);\r\n    };\r\n    AreaInitiator.createArea = function (json) {\r\n        var areaKey = AreaKey[json.key];\r\n        var controllingHouse = House[json.controllingHouse];\r\n        var units = [];\r\n        json.units.forEach((function (unitTypeJson) {\r\n            var unitType = UnitType[unitTypeJson];\r\n            var unit = new Unit(unitType, controllingHouse);\r\n            units.push(unit);\r\n        }));\r\n        return new Area(areaKey, controllingHouse, units);\r\n    };\r\n    AreaInitiator.addBorderAreas = function (areaStats) {\r\n        var jsonConfigArea = Array.from(areaConfigData)\r\n            .filter(function (jsonConfig) {\r\n            return AreaKey[jsonConfig.key] === areaStats.key;\r\n        })[0];\r\n        var borders = jsonConfigArea.borders.map(function (borderKey) {\r\n            return AreaKey[borderKey];\r\n        });\r\n        areaStats.borders = borders;\r\n    };\r\n    return AreaInitiator;\r\n}());\r\nexport { AreaInitiator };\r\n//# sourceMappingURL=areaInitiator.js.map","map":{"version":3,"file":"areaInitiator.js","sourceRoot":"","sources":["areaInitiator.ts"],"names":[],"mappings":"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"},"dts":{"name":"/Users/taamato1/pdev/got-store/src/logic/area/areaInitiator.d.ts","text":"import Area from '../../model/area/area';\r\nimport { House } from '../../model/player/house';\r\nimport { AreaKey } from '../../model/area/areaKey';\r\nimport AreaStats from '../../model/area/areaStats';\r\nexport declare class AreaInitiator {\r\n    static getInitalState(playingHouses: Array<House>): Map<AreaKey, Area>;\r\n    static getAreaStats(): Map<AreaKey, AreaStats>;\r\n    private static parseAreas(json);\r\n    private static createArea(json);\r\n    private static addBorderAreas(areaStats);\r\n}\r\n"}}
