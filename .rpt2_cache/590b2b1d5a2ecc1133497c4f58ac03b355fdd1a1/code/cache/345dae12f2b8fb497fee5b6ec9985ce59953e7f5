{"code":"import { House } from '../../model/player/house';\r\nimport { OrderTokenType } from '../../model/orderToken/orderTokenType';\r\nimport { GamePhase } from '../../model/gamePhase';\r\nimport { AreaInitiator } from '../area/areaInitiator';\r\nimport PlayerStateModificationService from './playerStateModificationService';\r\nimport CardFactory from '../cards/cardFactory';\r\nimport SupplyStateModificationService from './supplyStateModificationService';\r\nvar GameStateModificationService = /** @class */ (function () {\r\n    function GameStateModificationService() {\r\n    }\r\n    GameStateModificationService.init = function (playerSetup) {\r\n        var initialIronThroneSuccession = [House.baratheon, House.lannister, House.stark, House.martell, House.tyrell, House.greyjoy];\r\n        var initialKingscourt = [House.lannister, House.stark, House.martell, House.baratheon, House.tyrell, House.greyjoy];\r\n        var initialFiefdom = [House.greyjoy, House.tyrell, House.martell, House.stark, House.baratheon, House.greyjoy];\r\n        var players = PlayerStateModificationService.initPlayers(playerSetup);\r\n        var areas = AreaInitiator.getInitalState(players.map(function (player) { return player.house; }));\r\n        return {\r\n            areas: areas,\r\n            gameRound: 1,\r\n            gamePhase: GamePhase.WESTEROS1,\r\n            winningHouse: null,\r\n            fiefdom: initialFiefdom,\r\n            kingscourt: initialKingscourt,\r\n            ironThroneSuccession: initialIronThroneSuccession,\r\n            wildlingsCount: 0,\r\n            players: players,\r\n            localPlayersHouse: House.stark,\r\n            currentHouse: initialIronThroneSuccession[0],\r\n            currentlyAllowedTokenTypes: this.INITIALLY_ALLOWED_ORDER_TOKEN_TYPES,\r\n            currentlyAllowedSupply: SupplyStateModificationService.updateSupply({ players: players, areas: areas }),\r\n            areasAllowedToRecruit: [],\r\n            currentWesterosCard: null,\r\n            westerosCards: CardFactory.getWesterosCards(),\r\n        };\r\n    };\r\n    GameStateModificationService.INITIALLY_ALLOWED_ORDER_TOKEN_TYPES = [OrderTokenType.march_minusOne, OrderTokenType.march_zero, OrderTokenType.march_special, OrderTokenType.raid_0, OrderTokenType.raid_1, OrderTokenType.raid_special, OrderTokenType.consolidatePower_0, OrderTokenType.consolidatePower_1, OrderTokenType.consolidatePower_special, OrderTokenType.defend_0, OrderTokenType.defend_1, OrderTokenType.defend_special, OrderTokenType.support_0, OrderTokenType.support_1, OrderTokenType.support_special];\r\n    return GameStateModificationService;\r\n}());\r\nexport default GameStateModificationService;\r\n//# sourceMappingURL=gameStateModificationService.js.map","map":{"version":3,"file":"gameStateModificationService.js","sourceRoot":"","sources":["gameStateModificationService.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,KAAK,EAAC,MAAM,0BAA0B,CAAC;AAC/C,OAAO,EAAC,cAAc,EAAC,MAAM,uCAAuC,CAAC;AACrE,OAAO,EAAC,SAAS,EAAC,MAAM,uBAAuB,CAAC;AAGhD,OAAO,EAAC,aAAa,EAAC,MAAM,uBAAuB,CAAC;AACpD,OAAO,8BAA8B,MAAM,kCAAkC,CAAC;AAC9E,OAAO,WAAW,MAAM,sBAAsB,CAAC;AAC/C,OAAO,8BAA8B,MAAM,kCAAkC,CAAC;AAE9E;IAAA;IA8BA,CAAC;IA3BiB,iCAAI,GAAlB,UAAmB,WAA0B;QACzC,IAAM,2BAA2B,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QAChI,IAAM,iBAAiB,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QACtH,IAAM,cAAc,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QAEjH,IAAI,OAAO,GAAG,8BAA8B,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QACtE,IAAM,KAAK,GAAG,aAAa,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,KAAK,EAAZ,CAAY,CAAC,CAAC,CAAC;QAEhF,MAAM,CAAC;YACH,KAAK,EAAE,KAAK;YACZ,SAAS,EAAE,CAAC;YACZ,SAAS,EAAE,SAAS,CAAC,SAAS;YAC9B,YAAY,EAAE,IAAI;YAClB,OAAO,EAAE,cAAc;YACvB,UAAU,EAAE,iBAAiB;YAC7B,oBAAoB,EAAE,2BAA2B;YACjD,cAAc,EAAE,CAAC;YACjB,OAAO,SAAA;YACP,iBAAiB,EAAE,KAAK,CAAC,KAAK;YAC9B,YAAY,EAAE,2BAA2B,CAAC,CAAC,CAAC;YAC5C,0BAA0B,EAAE,IAAI,CAAC,mCAAmC;YACpE,sBAAsB,EAAE,8BAA8B,CAAC,YAAY,CAAC,EAAC,OAAO,SAAA,EAAE,KAAK,OAAA,EAAC,CAAC;YACrF,qBAAqB,EAAE,EAAE;YACzB,mBAAmB,EAAE,IAAI;YACzB,aAAa,EAAE,WAAW,CAAC,gBAAgB,EAAE;SAChD,CAAC;IACN,CAAC;IA5Ba,gEAAmC,GAAqB,CAAC,cAAc,CAAC,cAAc,EAAE,cAAc,CAAC,UAAU,EAAE,cAAc,CAAC,aAAa,EAAE,cAAc,CAAC,MAAM,EAAE,cAAc,CAAC,MAAM,EAAE,cAAc,CAAC,YAAY,EAAE,cAAc,CAAC,kBAAkB,EAAE,cAAc,CAAC,kBAAkB,EAAE,cAAc,CAAC,wBAAwB,EAAE,cAAc,CAAC,QAAQ,EAAE,cAAc,CAAC,QAAQ,EAAE,cAAc,CAAC,cAAc,EAAE,cAAc,CAAC,SAAS,EAAE,cAAc,CAAC,SAAS,EAAE,cAAc,CAAC,eAAe,CAAC,CAAC;IA6BlgB,mCAAC;CAAA,AA9BD,IA8BC;eA9BoB,4BAA4B"},"dts":{"name":"/Users/taamato1/pdev/got-store/src/logic/gameState/gameStateModificationService.d.ts","text":"import { OrderTokenType } from '../../model/orderToken/orderTokenType';\r\nimport { GameStoreState } from '../../gameStoreState';\r\nimport PlayerSetup from '../../model/player/playerSetup';\r\nexport default class GameStateModificationService {\r\n    static INITIALLY_ALLOWED_ORDER_TOKEN_TYPES: OrderTokenType[];\r\n    static init(playerSetup: PlayerSetup[]): GameStoreState;\r\n}\r\n"}}
